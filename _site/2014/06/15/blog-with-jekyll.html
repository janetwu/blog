<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>  用jekyll搭建博客 |  Janet Wu </title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="author" content="janet wu">
  <meta name="description" content="Hi - I'm Janet. I'm a web frontend developer.">
  <link rel="shortcut icon" href="/img/favicon.ico" /> 
  <link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="/css/syntax.css">
  <link rel="stylesheet" type="text/css" href="/css/style.css">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.1/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>
  <header>
    <div class="top boxed">
      <h1><a href="/" title="Janet Wu"><img src="/img/logo.png" alt="Janet Wu"></a></h1>
      <span class="slogon">less is more 越简单,越快乐</span>  
      <nav>
        <ul>
          <li><a href="/archive/" title="Archive"><i class="fa fa-list-ul"></i></a></li>
          <li><a href="/tags/" title="Tags"><i class="fa fa-tags"></i></a></li>
          <li><a href="/about/" title="About"><i class="fa fa-user"></i></a></li>
        </ul>
      </nav>
    </div>
  </header>
  <div class="main boxed">
    
      <article>
  <h1><a href="">用jekyll搭建博客</a></h1>
  <p class="meta">
    <time datetime=''><i class="fa fa-clock-o"></i>
    2014-06-15</time>
    <span><i class="fa fa-tag"></i></span>
    
      <a href="/tags/#jekyll">#jekyll</a>
    </p>
  
  <p>刚开始想用jekyll搭建一个blog，完全是好奇贪图新鲜，心想玩玩呗。</p><p>大概列了一些我想要实现的功能：</p><ul>
	<li>文章评论功能</li>
	<li>标签云tag cloud</li>
	<li>代码高亮highlight</li>
	<li>文章read more功能</li>
	<li>首页文章置顶</li>
</ul><p>前面三个功能搜索一下可以很快找到实现方法。</p><p>而文章read more功能不是一下子就能找到如何实现的方法，这里分享一下： </p><p><a href='http://truongtx.me/2013/05/01/jekyll-read-more-feature-without-any-plugin/'>http://truongtx.me/2013/05/01/jekyll-read-more-feature-without-any-plugin/</a></p><p>最后文章置顶功能，是找也找不到，唯有自己想办法解决。</p><p>既然头信息可以创建自定义变量，那可不可以通过创建一个变量来识别是否是篇需要置顶的文章呢？</p><p>在我想置顶的文章头部增加一个变量sticky，通过它来标志这是否是篇想要置顶的文章。</p><div class='highlight'><pre><code class='text'><span class='lineno'>1</span> ---
<span class='lineno'>2</span> layout: post
<span class='lineno'>3</span> image: /img/yunnan/
<span class='lineno'>4</span> title: 云南跨年游
<span class='lineno'>5</span> tags: travel 云南
<span class='lineno'>6</span> sticky: true
<span class='lineno'>7</span> ---
</code></pre></div><p>在首页，我通过变量sticky来拿到post。</p><div class='highlight'><pre><code class='text'><span class='lineno'>1</span> {% assign post = site.posts.first %}
<span class='lineno'>2</span> {% assign content = post.content %}
<span class='lineno'>3</span> {% for post in site.posts %}
<span class='lineno'>4</span>   {% if post.sticky %}
<span class='lineno'>5</span>       {% assign post = post %}
<span class='lineno'>6</span>       {% assign content = post.content %}
<span class='lineno'>7</span>       {% break %}
<span class='lineno'>8</span>   {% endif %}
<span class='lineno'>9</span> {% endfor %}
</code></pre></div><p>and it works</p>
</article>
<div class="divider clearfix">
  
 
    <a class="prev" href="/2014/01/07/happy-new-year-in-yunnan.html" title="云南跨年游"><i class="fa fa-arrow-left"></i> 云南跨年游</a>
  
  
  
  
</div>
<div id="disqus_thread"></div>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<script type="text/javascript" src="/js/jquery-1.9.1.min.js"></script>
<script type="text/javascript">
  var disqus_shortname = 'janetwu';
  window.onload = function(){
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    
  }
</script>




      
  </div>
  <footer class="boxed">
    <span>© 2014 janet wu | powered by jekyll</span>
    <a href="mailto:janetwume@gmail.com" title="mail to me"><i class="fa fa-envelope"></i></a>
    <a href="https://twitter.com/janetwume" target="_blank"  title="twitter"><i class="fa fa-twitter"></i></a>
    <a href="https://github.com/janetwu" target="_blank"  title="github"><i class="fa fa-github"></i></a>
  </footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51907563-1', 'janetwu.info');
  ga('send', 'pageview');

</script>
</body>
</html>