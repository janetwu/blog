<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>  jQuery页面返回顶部效果实现 |  Janet Wu </title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="author" content="janet wu">
  <meta name="description" content="Hi - I'm Janet. I'm a web frontend developer.">
  <link rel="shortcut icon" href="/blog/img/favicon.ico" /> 
  <link rel="stylesheet" type="text/css" href="/blog/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="/blog/css/syntax.css">
  <link rel="stylesheet" type="text/css" href="/blog/css/style.css">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.1/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>
  <header>
    <div class="top boxed">
      <h1><a href="/blog/" title="Janet Wu"><img src="/blog/img/logo.png" alt="Janet Wu"></a></h1>
      <span class="slogon">less is more 越简单,越快乐</span>  
      <nav>
        <ul>
          <li><a href="/blog/archive/" title="Archive"><i class="fa fa-list-ul"></i></a></li>
          <li><a href="/blog/tags/" title="Tags"><i class="fa fa-tags"></i></a></li>
          <li><a href="/blog/about/" title="About"><i class="fa fa-user"></i></a></li>
        </ul>
      </nav>
    </div>
  </header>
  <div class="main boxed">
    
      <article>
  <h1>jQuery页面返回顶部效果实现</h1>
  <p class="meta">
    <time datetime=''><i class="fa fa-clock-o"></i>
    2014-09-21</time>
    <span><i class="fa fa-tag"></i></span>
    
      <a href="/blog/tags/#jQuery">#jQuery</a>
    
      <a href="/blog/tags/#CSS3">#CSS3</a>
    </p>
  
  <p>一直想实现页面返回顶部效果，因为博客有些文章确实比较长需要这个小功能，终于有空给它加上了。</p>
<h2>HTML:</h2>

<div class="highlight"><pre><code class="language-html" data-lang="html">&lt;a id=&quot;scrolltop&quot;&gt;
	&lt;span class=&quot;icon&quot;&gt;
	  &lt;i class=&quot;upArrow&quot;&gt;&lt;/i&gt;
	&lt;/span&gt;
&lt;/a&gt;</code></pre></div>

<h2>CSS:</h2>
<p>向上箭头是用CSS3实现的，不是一张图片，我可以说我不能马上找到满意的图片才这么做的吗，想要什么颜色随你便。</p>

<div class="highlight"><pre><code class="language-css" data-lang="css">#scrolltop{
	display: none;
	background-color: rgba(0,0,0,0.3);
	border-radius: 4px;
	position: fixed;
	bottom: 20px;
	right: 20px;
	cursor: pointer;
	-webkit-transition: background-color 0.5s ease;
    -moz-transition: background-color 0.5s ease;
    -o-transition: background-color 0.5s ease;
    transition: background-color 0.5s ease;
}
#scrolltop:hover{
	background-color: rgba(225,53,141,0.8);
}
span.icon {
	height: 32px;
	width: 32px;
	position: relative;
	margin: 8px 8px 3px;
	overflow: hidden;
	display: inline-block;
}
i.upArrow {
	height: 0px;
	width: 0px;
	border-width: 16px;
	border-style: solid;
	border-color: transparent transparent #fff transparent;
	position: absolute;
	bottom: 16px;
	left: 0;
}
i.upArrow:after {
	content: &#39;&#39;;
	width: 12px;
	height: 16px;
	background-color: #fff;
	position: absolute;
	top: 16px;
	right: -6px;
}</code></pre></div>

<h2>JS:</h2>
<p>我也是从别人copy过来的代码，但是优化了一下，1）缓存多次用到的数据 2）window scroll事件加了延时处理。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">var $scrolltopBtn = $(&#39;#scrolltop&#39;),
    _timeoutId;
$(window).scroll(function () {
  if(_timeoutId){
    clearTimeout(_timeoutId);
  }
  _timeoutId =  setTimeout(function(){
      if ($(this).scrollTop() &gt; 100) {
        $scrolltopBtn.fadeIn();
      } else {
        $scrolltopBtn.fadeOut();
      }
    }, 100);
});
$scrolltopBtn.click(function () {
  $(&#39;body,html&#39;).animate({
    scrollTop: 0
  }, 800);
  return false;
});</code></pre></div>


</article>
<div class="divider clearfix">
  
 
    <a class="prev" href="/blog/2014/06/15/blog-with-jekyll.html" title="用jekyll搭建博客"><i class="fa fa-arrow-left"></i> 用jekyll搭建博客</a>
  
  
  
  
  
    <a class="next" href="/blog/2014/10/22/mai-li-hao-jing.html" title="麦里浩径徒步">麦里浩径徒步 <i class="fa fa-arrow-right"></i></a>
 
  
</div>
<div id="disqus_thread"></div>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<script type="text/javascript" src="/blog/js/jquery-1.9.1.min.js"></script>
<script>
  $(function(){
    
    var $scrolltopBtn = $('#scrolltop'),
        _timeoutId;
    $(window).scroll(function () {
      if(_timeoutId){
        clearTimeout(_timeoutId);
      }
      _timeoutId =  setTimeout(function(){
          if ($(this).scrollTop() > 100) {
            $scrolltopBtn.fadeIn();
          } else {
            $scrolltopBtn.fadeOut();
          }
        }, 100);
    });
    $scrolltopBtn.click(function () {
      $('body,html').animate({
        scrollTop: 0
      }, 800);
      return false;
    });
  });
</script>
<script type="text/javascript">
  var disqus_shortname = 'janetwu';
  window.onload = function(){
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    
  }
</script>




      
  </div>
  <a id="scrolltop">
    <span class="icon">
      <i class="upArrow"></i>
    </span>
  </a>
  <footer class="boxed">
    <span>© 2014 janet wu | powered by jekyll</span>
    <a href="mailto:janetwume@gmail.com" title="mail to me"><i class="fa fa-envelope"></i></a>
    <a href="https://twitter.com/janetwume" target="_blank"  title="twitter"><i class="fa fa-twitter"></i></a>
    <a href="https://github.com/janetwu" target="_blank"  title="github"><i class="fa fa-github"></i></a>
  </footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51907563-1', 'janetwu.info');
  ga('send', 'pageview');

</script>
</body>
</html>
